# linux 常见命令

## cp
cp命令用来将一个或多个源文件或者目录复制到指定的目的文件或目录。它可以将单个源文件复制成一个指定文件名的具体的文件或一个已经存在的目录下。cp命令还支持同时复制多个文件，当一次复制多个文件时，目标文件参数必须是一个已经存在的目录，否则将出现错误。

语法:

源文件：制定源文件列表。默认情况下，cp命令不能复制目录，如果要复制目录，则必须使用-R选项；

目标文件：指定目标文件。当“源文件”为多个文件时，要求“目标文件”为指定的目录。

`cp -R -f dir1/* dir2/`

选项:

 -a：此参数的效果和同时指定'-dpR'参数相同；

 -d：当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录；

 -f：强行复制文件或目录，不论目标文件或目录是否已存在；

 -i：覆盖既有文件之前先询问用户；

 -l：对源文件建立硬连接，而非复制文件；

 -p：保留源文件或目录的属性； 

 -R/r：递归处理，将指定目录下的所有文件与子目录一并处理； 

 -s：对源文件建立符号连接，而非复制文件； 
 
 -u：使用这项参数后只会在源文件的更改时间较目标文件更新时或是名称相互对应的目标文件并不存在时，才复制文件；

 -S：在备份文件时，用指定的后缀“SUFFIX”代替文件的默认后缀； 

 -b：覆盖已存在的文件目标前将目标文件备份；

 -v：详细显示命令执行的操作。
 
## rsync
rsync安装：yum install -y rsync


## tar
tar在linux上是常用的打包、压缩、加压缩工具，他的参数很多，这篇文章仅仅列举常用的压缩与解压缩参数，下面直接先上三个常用命令

1、压缩当前目录下文件夹/文件test到test.tar.gz:

`tar -zcvf test.tar.gz test`

2、解压缩当前目录下的file.tar.gz到file:

`tar -zxvf file.tar.gz`

五个命令中必选一个

     -c: 建立压缩档案

     -x：解压

     -t：查看内容

     -r：向压缩归档文件末尾追加文件

     -u：更新原压缩包中的文件

这几个参数是可选的

     -z：有gzip属性的

     -j：有bz2属性的

     -Z：有compress属性的

     -v：显示所有过程

     -O：将文件解开到标准输出

-f必选参数 使用档案名字，这个参数是最后一个参数，后面只能接档案名。

## 使用多线程pigz

Pigz就是支持并行压缩的gzip。Pigz默认用当前逻辑cpu个数来并发压缩，无法检测个数的话，则默认并发8个线程，也可以使用-p指定线程数。需要注意的是其CPU使用比较高。

pigz常用命令参数：

     -p: 设置最大使用线程数量，默认所有在线cpu，如果不能获取cpu数量，则取8
     
     -b：设置压缩块大小，默认128k
     
     -d：解压缩
     
     -q：静默模式，不输出任何信息
     
     -k：不删除原始文件
     
     -l：输出压缩内容
     
     -r：递归子目录
     
     -S：使用sss后缀替换gz
     
     -v：输出详细信息

使用方式：

`tar -cvf - dir1 dir2 dir3 | pigz -p 8 > output.tgz`
